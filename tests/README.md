# KCY Ecosystem - Test Suite

**‚ö†Ô∏è –í–ê–ñ–ù–û: –¢–µ—Å—Ç–æ–≤–µ—Ç–µ —Å–µ –ø—É—Å–∫–∞—Ç –°–ê–ú–û –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞!**

---

## üìã –¢–µ—Å—Ç–æ–≤–µ

### 1. Deploy Scripts Tests (`deploy-scripts/`)

–¢–µ—Å—Ç–æ–≤–µ –∑–∞ `--reset` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞:

```bash
cd /var/www/kcy-ecosystem/tests/deploy-scripts
sudo ./test-reset.sh
```

**–ö–∞–∫–≤–æ —Å–µ —Ç–µ—Å—Ç–≤–∞:**
- `--reset delete -users` - –∏–∑—Ç—Ä–∏–≤–∞ —Å–∞–º–æ users
- `--reset delete -payments` - –∏–∑—Ç—Ä–∏–≤–∞ —Å–∞–º–æ payments
- `--reset delete -places` - –∏–∑—Ç—Ä–∏–≤–∞ —Å–∞–º–æ places
- `--reset -users` - –∏–∑—Ç—Ä–∏–≤–∞ –≤—Å–∏—á–∫–æ –û–°–í–ï–ù users
- `--reset -users -payments` - –∑–∞–ø–∞–∑–≤–∞ users+payments
- `--reset -backup` - –ø—Ä–∞–≤–∏ —Å–∞–º–æ backup
- `--reset -backup -users` - backup + reset –±–µ–∑ users

---

### 2. Database Tests (`database/`)

–¢–µ—Å—Ç–æ–≤–µ –∑–∞ database —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç:

```bash
cd /var/www/kcy-ecosystem/tests/database
sudo ./test-functionality.sh
```

**–ö–∞–∫–≤–æ —Å–µ —Ç–µ—Å—Ç–≤–∞:**
- –ê –∏–∑–ø—Ä–∞—â–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ë
- –ë –∏—Å–∫–∞ –¥–∞ –¥–æ–±–∞–≤–∏ –ê –∫–∞—Ç–æ –ø—Ä–∏—è—Ç–µ–ª
- –í –¥–æ–±–∞–≤—è –ú—è—Å—Ç–æ —Å —Ä–∞–±–æ—Ç–Ω–æ –≤—Ä–µ–º–µ –∏ —Å–Ω–∏–º–∫–∞
- –ì –∫–∞—á–≤–∞ —Å–Ω–∏–º–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∞ —Å–∏
- –î —Ç—ä—Ä—Å–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- –¢—ä—Ä—Å–µ–Ω–µ –Ω–∞ –º–µ—Å—Ç–∞ –Ω–∞–±–ª–∏–∑–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–±–æ—Ç–Ω–æ –≤—Ä–µ–º–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ –ø–∞—Ä—Ç–Ω—å–æ—Ä
- –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Å—ä–≤–ø–∞–¥–µ–Ω–∏—è
- –ü–ª–∞—â–∞–Ω–∏—è

---

## üöÄ –ü—É—Å–∫–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ

### –í—Å–∏—á–∫–∏ —Ç–µ—Å—Ç–æ–≤–µ:

```bash
cd /var/www/kcy-ecosystem/tests

# Reset tests
sudo ./deploy-scripts/test-reset.sh

# Database tests
sudo ./database/test-functionality.sh
```

---

## üìä –†–µ–∑—É–ª—Ç–∞—Ç–∏

–¢–µ—Å—Ç–æ–≤–µ—Ç–µ –ø–æ–∫–∞–∑–≤–∞—Ç:
- ‚úì PASS - —Ç–µ—Å—Ç–∞ –º–∏–Ω–∞–≤–∞ —É—Å–ø–µ—à–Ω–æ
- ‚úó FAIL - —Ç–µ—Å—Ç–∞ –Ω–µ –º–∏–Ω–∞–≤–∞

–ü—Ä–∏–º–µ—Ä:
```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  Results
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
PASS: Users deleted
PASS: Places kept
PASS: Payments deleted
...

Passed: 15 | Failed: 0
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–¢–µ—Å—Ç–æ–≤–µ—Ç–µ:**
- –ü—É—Å–∫–∞—Ç —Å–µ —Å–∞–º–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞
- –ò–∑–ø–æ–ª–∑–≤–∞—Ç `/var/www/kcy-ecosystem` –ø—ä—Ç–∏—â–∞
- –°—ä–∑–¥–∞–≤–∞—Ç test data (id >= 100, 200, 1000)
- –ù–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø—É—Å–∫–∞—Ç –Ω–∞ production —Å —Ä–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏

**–ü—Ä–µ–¥–∏ —Ç–µ—Å—Ç–æ–≤–µ:**
- –ù–∞–ø—Ä–∞–≤–∏ backup: `sudo ./01-setup-database.sh --reset -backup`
- –ò–∑–ø–æ–ª–∑–≤–∞–π test database –∏–ª–∏ dev environment
