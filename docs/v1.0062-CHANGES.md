# KCY v1.0062 - CLEAN STRUCTURE + ADVANCED RESET

**Date:** February 15, 2026  
**Version:** 1.0061 ‚Üí 1.0062

---

## ‚úÖ Changes

### 1. CLEAN ROOT - –°–∞–º–æ deploy.sh

**Root –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–µ–≥–∞:**
```
kcy-ecosystem/
‚îú‚îÄ‚îÄ deploy.sh         ‚Üê –°–ê–ú–û –¢–û–ó–ò (—Ä–∞–±–æ—Ç–∏ –Ω–∞ Windows + Linux)
‚îú‚îÄ‚îÄ .deployignore
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ private/
‚îú‚îÄ‚îÄ deploy-scripts/
‚îî‚îÄ‚îÄ tests/
```

**deploy.sh:**
- –†–∞–±–æ—Ç–∏ –Ω–∞ Windows (Git Bash/WSL)
- –†–∞–±–æ—Ç–∏ –Ω–∞ Linux/Mac
- –ò–∑–ø–æ–ª–∑–≤–∞ rsync –∏–ª–∏ scp
- Auto-excludes (node_modules, .git, .env)

**–ö–∞–∫:**
```bash
./deploy.sh                    # Default
./deploy.sh 192.168.1.100      # Custom server
```

---

### 2. ADVANCED DATABASE RESET

**01-setup-database.sh —Å –ø—ä–ª–Ω–∏ --reset –æ–ø—Ü–∏–∏:**

```bash
# Basic
--reset                     # Delete ALL
--reset ?                   # Help

# Delete specific
--reset delete -users       # Delete ONLY users
--reset delete -payments    # Delete ONLY payments
--reset delete -places      # Delete ONLY places
--reset delete -matches     # Delete ONLY matches
--reset delete -preferences # Delete ONLY preferences

# Keep specific
--reset -users              # Delete ALL EXCEPT users
--reset -payments           # Delete ALL EXCEPT payments
--reset -users -payments    # Keep users+payments

# Backup & Restore
--reset -backup             # Backup only
--reset -backup -users      # Backup + reset except users
--reset -restore            # Interactive restore
```

**–õ–æ–≥–∏–∫–∞:**
- `delete` = –∏–∑—Ç—Ä–∏–≤–∞ –°–ê–ú–û –ø–æ—Å–æ—á–µ–Ω–∏—Ç–µ
- –ë–µ–∑ `delete` = –∏–∑—Ç—Ä–∏–≤–∞ –í–°–ò–ß–ö–û –û–°–í–ï–ù –ø–æ—Å–æ—á–µ–Ω–∏—Ç–µ

---

### 3. TEST SUITE (—Å–∞–º–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞!)

**tests/deploy-scripts/test-reset.sh:**
- –¢–µ—Å—Ç–≤–∞ --reset —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞
- Populate fake data (10 users, places, etc.)
- –¢–µ—Å—Ç–≤–∞ delete/keep –ª–æ–≥–∏–∫–∞
- –¢–µ—Å—Ç–≤–∞ backup/restore

**tests/database/test-functionality.sh:**
- –ê ‚Üí –ë —Å—ä–æ–±—â–µ–Ω–∏–µ
- –ë ‚Üí –ê friend request
- –í –¥–æ–±–∞–≤—è Place (hours + photo)
- –ì –∫–∞—á–≤–∞ profile photo
- –î —Ç—ä—Ä—Å–∏ users
- Search places nearby
- Working hours check
- Partner preferences
- Match calculation
- Payments

**–ü—É—Å–∫–∞–Ω–µ (–Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞):**
```bash
cd /var/www/kcy-ecosystem/tests
sudo ./deploy-scripts/test-reset.sh
sudo ./database/test-functionality.sh
```

---

## üìÅ Files

**Created:**
- `deploy.sh` - Universal deploy
- `tests/deploy-scripts/test-reset.sh` - Reset tests
- `tests/database/test-functionality.sh` - DB tests
- `tests/README.md` - Test documentation

**Updated:**
- `deploy-scripts/server/01-setup-database.sh` - Advanced reset
- `00032.version` - 1.0062

**Removed:**
- `deploy.ps1` - –±–æ–∫–ª—É–∫
- `DEPLOY-README.md` - –±–æ–∫–ª—É–∫  
- `docs/DEPLOY-SCRIPTS-ROOT.md` - –±–æ–∫–ª—É–∫

---

## üéØ Usage

### Deploy:
```bash
cd /path/to/kcy-ecosystem
./deploy.sh
```

### Reset database:
```bash
# On server
cd /var/www/kcy-ecosystem/deploy-scripts/server

# Examples
sudo ./01-setup-database.sh --reset ?
sudo ./01-setup-database.sh --reset delete -users
sudo ./01-setup-database.sh --reset -users -payments
sudo ./01-setup-database.sh --reset -backup
```

### Run tests:
```bash
# On server only!
cd /var/www/kcy-ecosystem/tests
sudo ./deploy-scripts/test-reset.sh
sudo ./database/test-functionality.sh
```

---

**Status:** ‚úÖ CLEAN & TESTED  
**Version:** 1.0062
