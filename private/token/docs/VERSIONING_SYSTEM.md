<!-- Version: 1.0056 -->
<!-- @version v34 -->

# Версионна Система на KCY1 Проекта

## Как Работи

### Принцип
**Всеки файл има СВОЯ версия**, независимо от другите файлове.

### Формат

#### JavaScript файлове
```javascript
/**
 * @version v34
 */
```

#### Solidity файлове
```solidity
/**
 * @title Contract Name
 * @version v34
 */
```

#### Markdown файлове
```markdown
<!-- @version v34 -->
```

### Къде е Версията?

Версията е **ВИНАГИ НАЙ-ОТГОРЕ** във файла:
- След SPDX лиценза (за Solidity)
- На първия ред (за Markdown)
- Преди всичко друго (за JavaScript)

### Версията е само на ЕДНО място

❌ **ГРЕШНО** - версия на много места:
```javascript
/**
 * @version v34
 * Some description v34
 * More text v34
 */
```

✅ **ПРАВИЛНО** - версия само най-отгоре:
```javascript
/**
 * @version v34
 */
// Some description
// More text
```

## Кога да Увеличавате Версията?

Увеличавайте версията на файла когато:

### За Конфигурационни Файлове (config/)
- ✅ Променени адреси
- ✅ Добавени нови мрежи
- ✅ Променена структура
- ❌ Малки коментари или форматиране

### За Скриптове (scripts/)
- ✅ Променена логика
- ✅ Добавени нови функции
- ✅ Премахнати функции
- ✅ Поправени бъгове
- ❌ Малки коментари

### За Тестове (test/)
- ✅ Добавени нови тестове
- ✅ Променена логика на съществуващи тестове
- ✅ Премахнати тестове
- ❌ Малки корекции

### За Контракти (contracts/)
- ✅ Промяна в логиката
- ✅ Добавени/премахнати функции
- ✅ Променени fee структури
- ✅ Променени лимити
- ❌ Само коментари

## Примери

### Пример 1: Промяна в config/addresses.js

**Преди** (v34):
```javascript
/**
 * @version v34
 */
module.exports = {
  bscMainnet: {
    distribution: {
      dev: "0x567c..."
    }
  }
}
```

**След промяна на адрес** (v35):
```javascript
/**
 * @version v35
 */
module.exports = {
  bscMainnet: {
    distribution: {
      dev: "0xNEW..."  // Променен адрес
    }
  }
}
```

### Пример 2: Промяна в scripts/deploy.js

**Преди** (v34):
```javascript
/**
 * @version v34
 */
async function main() {
  // Deploy logic
}
```

**След добавяне на нова функция** (v35):
```javascript
/**
 * @version v35
 */
async function main() {
  // Deploy logic
  await verifyContract(); // Нова функция
}
```

### Пример 3: Само коментар (БЕЗ промяна)

**Преди** (v34):
```javascript
/**
 * @version v34
 */
function foo() {
  return 42;
}
```

**След добавяне на коментар** (остава v34):
```javascript
/**
 * @version v34
 */
// This function returns 42
function foo() {
  return 42;
}
```

## Workflow

### 1. Преди Промяна
```bash
# Виж текущата версия на файла
head -5 config/addresses.js
```

### 2. Направи Промяната
Редактирай файла...

### 3. След Промяна (ако е значителна)
```javascript
/**
 * @version v35  // Увеличи версията
 */
```

### 4. Документирай Промяната
Запиши какво си променил в changelog или commit message.

## Често Задавани Въпроси

### Всички файлове ли имат еднаква версия?
**НЕ!** Всеки файл има своя версия.

**Пример:**
- `config/addresses.js` → v35 (променен адрес)
- `scripts/deploy.js` → v34 (непроменен)
- `test/kcy-meme-1-tests.js` → v34 (непроменен)

### Как да проверя версията на файл?
```bash
# JavaScript
head -5 config/addresses.js | grep @version

# Markdown
head -1 docs/README.md

# Solidity
head -10 contracts/kcy-meme-1.sol | grep @version
```

### Трябва ли да актуализирам всички файлове наведнъж?
**НЕ!** Актуализирай само файловете които променяш.

### Какво ако забравя да увелича версията?
Не е критично, но е добра практика. Увеличавай версията при следващата промяна.

### Има ли "главна версия" на проекта?
**НЕ!** Няма централна версия. Всеки файл е независим.

За цялостна версия на проекта можеш да използваш git tags или версията в `package.json`.

## Текущо Състояние (Ноември 2025)

**Версия v34** е настоящата версия за ПОВЕЧЕТО файлове, защото:
1. Създадена централизация на адреси
2. Добавена версионна система
3. Изчистени ненужни файлове

**Файлове с v34:**
- Всички config файлове
- Всички scripts
- Всички tests
- Contract (kcy-meme-1.sol)
- Utils

**Следваща версия (v35):**
Когато направиш значителни промени във файл, увеличи НЕГОВАТА версия на v35.

## Инструмент за Проверка

### Виж всички версии
```bash
# JavaScript файлове
find . -name "*.js" ! -path "./node_modules/*" -exec grep -H "@version" {} \;

# Solidity файлове
find . -name "*.sol" -exec grep -H "@version" {} \;

# Markdown файлове
find . -name "*.md" -exec head -1 {} \; -print
```

### Брой файлове по версия
```bash
grep -r "@version v34" --include="*.js" | wc -l
grep -r "@version v35" --include="*.js" | wc -l
```

## Важни Напомняния

1. ✅ Версията е **НАЙ-ОТГОРЕ** във файла
2. ✅ Версията е само на **ЕДНО място**
3. ✅ Всеки файл има **СВОЯ версия**
4. ✅ Увеличавай версията при **значителни промени**
5. ❌ НЕ увеличавай за **малки коментари**

---

**Версия на този документ**: v34  
**Последна актуализация**: 26 Ноември 2025
